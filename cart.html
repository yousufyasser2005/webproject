<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Cart - MintLib</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="site-header">
        <div class="container header-inner">
            <a href="index.html" class="logo">ðŸ“š MintLib</a>
            <nav class="main-nav">
                <a href="about.html">About Us</a>
                <a href="sell.html" class="contact-link">Sell</a>
                <a href="my-orders.html" class="contact-link">My Orders</a>
                <a href="profile.html" class="contact-link">Profile</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>Your Cart</h1>
        <table class="cart-table">
            <thead>
                <tr>
                    <th>Book</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Subtotal</th>
                    <th>Remove</th>
                </tr>
            </thead>
            <tbody id="cartItems">
                <tr>
                    <td colspan="5" style="text-align: center;">Loading...</td>
                </tr>
            </tbody>
        </table>
        <p class="total">Total: <span id="cartTotal">0</span> EGP</p>
        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
            <button onclick="clearCart()" class="btn" style="background: #ef4444;">Clear Cart</button>
            <a href="checkout.html" class="btn btn-primary">Proceed to Checkout</a>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>MintLib Â© 2025 - All Rights Reserved</p>
            <p><a href="contact.html">Contact Us</a></p>
        </div>
    </footer>
    
    <script src="js/api/config.js"></script>
    <script src="js/api/cart.js"></script>
    <script>
        async function clearCart() {
            if (confirm('Are you sure you want to clear your cart?')) {
                const result = await apiCall('/cart/clear', 'DELETE');
                if (result.success) {
                    alert('Cart cleared!');
                    loadCart();
                } else {
                    alert('Failed to clear cart: ' + result.message);
                }
            }
        }
    </script>
    <script src="script.js"></script>
</body>

</html>
